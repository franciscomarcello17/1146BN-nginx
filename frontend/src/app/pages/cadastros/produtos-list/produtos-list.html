<div class="container">
  <div class="card">
    <div class="header">
      <h2>Lista de Produtos</h2>
      <button class="btn-primary" routerLink="/cadastros/produtos/novo">
        Novo Produto
      </button>
    </div>

    <div *ngIf="carregando" class="loading">
      Carregando produtos...
    </div>

    <div *ngIf="mensagem" class="mensagem" [class.error]="mensagem.includes('Erro')">
      {{ mensagem }}
    </div>

    <div *ngIf="!carregando && produtos.length === 0" class="empty-state">
      Nenhum produto cadastrado.
    </div>

    <div class="table-container" *ngIf="!carregando && produtos.length > 0">
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produto of produtos">
            <td>{{ produto.id }}</td>
            <td>{{ produto.nome }}</td>
            <td class="descricao">{{ produto.descricao || 'Nenhuma descrição' }}</td>
            <td class="preco">R$ {{ produto.preco | number:'1.2-2' }}</td>
            <td class="actions">
              <button 
                class="btn-info" 
                [routerLink]="['/cadastros/produtos', produto.id]">
                Ver
              </button>
              <button 
                class="btn-secondary"
                [routerLink]="['/cadastros/produtos/novo']" 
                [queryParams]="{ id: produto.id }">
                Editar
              </button>
              <button 
                class="btn-danger" 
                (click)="excluirProduto(produto.id)">
                Excluir
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="footer">
      <button class="btn-secondary" routerLink="/home">
        Voltar
      </button>
    </div>
  </div>
</div>